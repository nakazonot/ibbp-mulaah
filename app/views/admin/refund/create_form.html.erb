<%= semantic_form_for @payment, url: admin_refund_create_path, method: :post, as: :payment, :builder => ActiveAdmin::FormBuilder do |f| %>
  <%= f.inputs 'Refund' do %>
    <%= f.input :user_id, as: :hidden %>
    <%= f.input :user_email, input_html: { disabled: true, value: User.find(f.object.user_id).email }, label: 'User' %>
    <%= f.input :currency, label: 'Currency', as: :select, collection: Parameter.available_currencies.keys %>
    <%= f.input :amount, label: 'Amount' %>
    <%= f.input :description, as: :text, label: 'Description' %>
  <% end %>
  <%= f.actions do %>
    <%= f.action :submit, button_html: { value: 'Make Refund', 'data-disable-with': 'Make Refund' } %>
  <% end %>
<% end %>